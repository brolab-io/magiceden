var ae=Object.defineProperty;var se=(t,e,n)=>e in t?ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var T=(t,e,n)=>(se(t,typeof e!="symbol"?e+"":e,n),n),ie=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var q=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var j=(t,e,n)=>(ie(t,e,"access private method"),n);AFRAME.registerComponent("exit-on",{schema:{default:"click"},update(t){const e=this.data;this.el.removeEventListener(t,this.exitVR),this.el.addEventListener(e,this.exitVR)},exitVR(){this.sceneEl.exitVR()}});AFRAME.registerComponent("hide-on-hit-test-start",{init:function(){var t=this;this.el.sceneEl.addEventListener("ar-hit-test-start",function(){t.el.object3D.visible=!1}),this.el.sceneEl.addEventListener("exit-vr",function(){t.el.object3D.visible=!0})}});AFRAME.registerComponent("ladder",{schema:{cameraRig:{default:""},grabbables:{default:""}},init(){if(this.ladderGrab=this.ladderGrab.bind(this),this.ladderRelease=this.ladderRelease.bind(this),this.startingRigPosition=new THREE.Vector3,this.startingHandPosition=new THREE.Vector3,this.ladderHands=[],this.grabbables=[],this.cameraRig=document.querySelector(this.data.cameraRig),this.data.grabbables)for(const t of this.el.querySelectorAll(this.data.grabbables))this.grabbables.push(t),t.addEventListener("grabbed",this.ladderGrab),t.addEventListener("released",this.ladderRelease)},ladderRelease(t){const e=t.detail.byNoMagnet;let n;for(;(n=this.ladderHands.indexOf(e))!==-1;)this.ladderHands.splice(n,1);const o=this.ladderHands[0];o?(this.startingHandPosition.copy(o.object3D.position),this.startingRigPosition.copy(this.cameraRig.object3D.position)):this.cameraRig.setAttribute("simple-navmesh-constraint","enabled",!0)},ladderGrab(t){const e=t.detail.byNoMagnet;this.startingHandPosition.copy(e.object3D.position),this.startingRigPosition.copy(this.cameraRig.object3D.position),this.ladderHands.unshift(e),this.holdingLadder=!0,this.cameraRig.setAttribute("simple-navmesh-constraint","enabled",!1)},tick(){const t=this.ladderHands[0];t&&(this.cameraRig.object3D.position.subVectors(this.startingHandPosition,t.object3D.position),this.cameraRig.object3D.position.applyQuaternion(this.cameraRig.object3D.quaternion),this.cameraRig.object3D.position.add(this.startingRigPosition))},remove(){this.grabbables.forEach(t=>{t.removeEventListener("grabbed",this.ladderGrab),t.removeEventListener("released",this.ladderRelease)})}});AFRAME.registerComponent("match-position-by-id",{schema:{default:""},tick(){let t;if(this.data==="xr-camera"){const e=this.el.sceneEl.renderer.xr.getCameraPose();if(e){this.el.object3D.position.copy(e.transform.position),this.el.object3D.quaternion.copy(e.transform.orientation);return}t=this.el.sceneEl.camera}else t=document.getElementById(this.data).object3D;t&&(this.el.object3D.position.copy(t.position),this.el.object3D.quaternion.copy(t.quaternion))}});AFRAME.registerComponent("origin-on-ar-start",{init:function(){var t=this.el;this.el.sceneEl.addEventListener("enter-vr",function(){this.is("ar-mode")&&(t.setAttribute("position",{x:0,y:0,z:0}),t.setAttribute("rotation",{x:0,y:0,z:0}))})}});AFRAME.registerComponent("physx-body-from-model",{schema:{type:"string",default:""},init(){const t=this.data;this.onLoad=function(){this.setAttribute("physx-body",t),this.removeAttribute("physx-body-from-model")},this.el.addEventListener("object3dset",this.onLoad)},remove(){this.el.removeEventListener("object3dset",this.onLoad)}});AFRAME.registerComponent("toggle-physics",{init(){this.onPickup=function(){this.el.setAttribute("physx-body","type","kinematic")}.bind(this),this.onPutDown=function(t){const e=this.el.sceneEl.renderer.xr.getReferenceSpace();if(this.el.setAttribute("physx-body","type","dynamic"),t.detail.frame&&t.detail.inputSource){const n=t.detail.frame.getPose(t.detail.inputSource.gripSpace,e);n&&n.angularVelocity,n&&n.linearVelocity}}.bind(this),this.el.addEventListener("pickup",this.onPickup),this.el.addEventListener("putdown",this.onPutDown)},remove(){this.el.removeEventListener("pickup",this.onPickup),this.el.removeEventListener("putdown",this.onPutDown)}});AFRAME.registerComponent("window-replace",{schema:{default:""},init(){this.el.addEventListener("object3dset",this.update.bind(this)),this.materials=new Map},update(){const t=this.data.trim().split(",");this.el.object3D.traverse(function(e){if(e.material&&t.some(n=>e.material.name.includes(n))){e.renderOrder=1;const n=e.material,o=this.el.sceneEl;e.material=this.materials.has(n)?this.materials.get(n):new THREE.MeshPhongMaterial({name:"window_"+n.name,lightMap:n.lightmap||null,lightMapIntensity:n.lightMapIntensity,shininess:90,color:"#ffffff",emissive:"#999999",emissiveMap:n.map,transparent:!0,depthWrite:!1,map:n.map,transparent:!0,side:THREE.DoubleSide,get envMap(){return o.object3D.environment},combine:THREE.MixOperation,reflectivity:.6,blending:THREE.CustomBlending,blendEquation:THREE.MaxEquation,toneMapped:n.toneMapped}),window.mat=e.material,this.materials.set(n,e.material)}}.bind(this))}});AFRAME.registerComponent("xr-follow",{schema:{},init(){},tick(){const t=this.el.sceneEl,e=t.camera,n=t.is("vr-mode")?t.renderer.xr.getCamera(e):e,o=this.el.object3D;n.getWorldPosition(o.position),o.parent.worldToLocal(o.position)}});AFRAME.registerComponent("naf-dynamic-room",{init:function(){var t=this.el,e={room:roomId,adapter:"easyrtc",audio:!1,video:!1,serverURL:"https://3d.metaworldz.dev",debug:!0,connectOnLoad:!1};t.setAttribute("networked-scene",e),console.log("naf-dynamic-room",e)}});AFRAME.registerComponent("name-tag",{init:function(){this.rig=document.querySelector("#cameraRig")},tick:function(){this.el.object3D.rotation.y=this.rig.object3D.rotation.y,this.el.object3D.rotation.x=this.rig.object3D.rotation.x,this.el.object3D.rotation.z=this.rig.object3D.rotation.z}});NAF.schemas.getComponentsOriginal=NAF.schemas.getComponents;NAF.schemas.getComponents=t=>(NAF.schemas.hasTemplate("#avatar-template")||NAF.schemas.add({template:"#avatar-template",components:["position","rotation","gltf-model","rig-animation"]}),NAF.schemas.hasTemplate("#player-template")||NAF.schemas.add({template:"#player-template",components:["position","rotation"]}),NAF.schemas.hasTemplate("#name-template")||NAF.schemas.add({template:"#name-template",components:["value","position","align","width"]}),NAF.schemas.hasTemplate("#emoji-template")||NAF.schemas.add({template:"#emoji-template",components:["gltf-model","scale","position"]}),document.querySelector("#chair-template")&&(NAF.schemas.hasTemplate("#chair-template")||NAF.schemas.add({template:"#chair-template",components:[]})),NAF.schemas.getComponentsOriginal(t));document.querySelector("#audio-background");const k=document.querySelector("#audio-welcome");document.querySelector("#video-ads-mp4");class re extends EventTarget{playerSpawned(){this.dispatchEvent(new Event("playerSpawned"))}}const ce=new re,R=(t,e)=>{window.parent.postMessage({type:t,value:e},"*")},de=t=>{R("EMIT_LIST_DEVICES",JSON.stringify(t))},le=t=>{R("EMIT_NEW_MESSAGE",JSON.stringify(t))},O=t=>{R("EMIT_CONNECTED_CLIENTS",JSON.stringify(t))},me=()=>{R("EMIT_GUI",!0)},K=t=>{R("EMIT_LOADING",t)},ue=t=>{R("EMIT_SCREENSHOT",t)},Je=t=>{R("EMIT_IS_SHARING_SCREEN",t)},Q=()=>{R("EMIT_COMMUNICATE_PERMISSIONS",!1)},he=Symbol(),x=Object.getPrototypeOf,$=new WeakMap,pe=t=>t&&($.has(t)?$.get(t):x(t)===Object.prototype||x(t)===Array.prototype),fe=t=>pe(t)&&t[he]||null,G=(t,e=!0)=>{$.set(t,e)},V=t=>typeof t=="object"&&t!==null,I=new WeakSet,W=({VITE_API_URL:"https://cms.metaworldz.dev",VITE_3D_SERVER_URL:"https://3d.metaworldz.dev",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"?Symbol("VERSION"):Symbol(),g=({VITE_API_URL:"https://cms.metaworldz.dev",VITE_3D_SERVER_URL:"https://3d.metaworldz.dev",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"?Symbol("LISTENERS"):Symbol(),F=({VITE_API_URL:"https://cms.metaworldz.dev",VITE_3D_SERVER_URL:"https://3d.metaworldz.dev",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"?Symbol("SNAPSHOT"):Symbol(),ge=(t=Object.is,e=(s,y)=>new Proxy(s,y),n=s=>V(s)&&!I.has(s)&&(Array.isArray(s)||!(Symbol.iterator in s))&&!(s instanceof WeakMap)&&!(s instanceof WeakSet)&&!(s instanceof Error)&&!(s instanceof Number)&&!(s instanceof Date)&&!(s instanceof String)&&!(s instanceof RegExp)&&!(s instanceof ArrayBuffer),o=({VITE_API_URL:"https://cms.metaworldz.dev",VITE_3D_SERVER_URL:"https://3d.metaworldz.dev",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"?Symbol("PROMISE_RESULT"):Symbol(),c=({VITE_API_URL:"https://cms.metaworldz.dev",VITE_3D_SERVER_URL:"https://3d.metaworldz.dev",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"?Symbol("PROMISE_ERROR"):Symbol(),d=new WeakMap,h=(s,y,v)=>{const S=d.get(v);if((S==null?void 0:S[0])===s)return S[1];const m=Array.isArray(y)?[]:Object.create(Object.getPrototypeOf(y));return G(m,!0),d.set(v,[s,m]),Reflect.ownKeys(y).forEach(f=>{const l=Reflect.get(y,f,v);if(I.has(l))G(l,!1),m[f]=l;else if(l instanceof Promise)if(o in l)m[f]=l[o];else{const D=l[c]||l;Object.defineProperty(m,f,{get(){if(o in l)return l[o];throw D}})}else l!=null&&l[g]?m[f]=l[F]:m[f]=l}),Object.freeze(m)},p=new WeakMap,E=[1],C=s=>{if(!V(s))throw new Error("object required");const y=p.get(s);if(y)return y;let v=E[0];const S=new Set,m=(r,a=++E[0])=>{v!==a&&(v=a,S.forEach(i=>i(r,a)))},f=new Map,l=r=>{let a=f.get(r);return a||(a=(i,w)=>{const A=[...i];A[1]=[r,...A[1]],m(A,w)},f.set(r,a)),a},D=r=>{const a=f.get(r);return f.delete(r),a},U=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s)),N=e(U,{get(r,a,i){return a===W?v:a===g?S:a===F?h(v,r,i):Reflect.get(r,a,i)},deleteProperty(r,a){const i=Reflect.get(r,a),w=i==null?void 0:i[g];w&&w.delete(D(a));const A=Reflect.deleteProperty(r,a);return A&&m(["delete",[a],i]),A},set(r,a,i,w){var A;const oe=Reflect.has(r,a),_=Reflect.get(r,a,w);if(oe&&t(_,i))return!0;const z=_==null?void 0:_[g];z&&z.delete(D(a)),V(i)&&(i=fe(i)||i);let b;return(A=Object.getOwnPropertyDescriptor(r,a))!=null&&A.set?b=i:i instanceof Promise?b=i.then(L=>(b[o]=L,m(["resolve",[a],L]),L)).catch(L=>{b[c]=L,m(["reject",[a],L])}):i!=null&&i[g]?(b=i,b[g].add(l(a))):n(i)?(b=X(i),b[g].add(l(a))):b=i,Reflect.set(r,a,b,w),m(["set",[a],i,_]),!0}});return p.set(s,N),Reflect.ownKeys(s).forEach(r=>{const a=Object.getOwnPropertyDescriptor(s,r);a.get||a.set?Object.defineProperty(U,r,a):N[r]=s[r]}),N})=>[C,I,W,g,F,t,e,n,o,c,d,h,p,E],[be]=ge();function X(t={}){return be(t)}function Ee(t,e,n){({VITE_API_URL:"https://cms.metaworldz.dev",VITE_3D_SERVER_URL:"https://3d.metaworldz.dev",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!(t!=null&&t[g])&&console.warn("Please use proxy object");let o;const c=[],d=h=>{if(c.push(h),n){e(c.splice(0));return}o||(o=Promise.resolve().then(()=>{o=void 0,e(c.splice(0))}))};return t[g].add(d),()=>{t[g].delete(d)}}function Y(t,e,n,o){return Ee(t,c=>{c.some(d=>d[1][0]===e)&&n(t[e])},o)}const u=X({modalLoadedPercentage:0,avatarLoadedPercentage:0,volumes:{masterVolume:1,musicVolume:1,voiceChatVolume:1}});Y(u,"modalLoadedPercentage",()=>{const t=(u.modalLoadedPercentage*90+u.avatarLoadedPercentage*10)/100;console.log(`Loading progress: ${t}%`),K(Math.floor(t))});Y(u,"avatarLoadedPercentage",()=>{const t=(u.modalLoadedPercentage*90+u.avatarLoadedPercentage*10)/100;console.log(`Loading progress: ${t}%`),K(Math.floor(t))});const ye=()=>{const t=document.createElement("div"),e=document.createElement("iframe");return e.setAttribute("allow","camera *; microphone *"),e.id="rpmIframe",t.id="rpmContainer",t.style.zIndex="999",t.appendChild(e),document.body.prepend(t),e},Ae=()=>{const t=ye(),e="metaworlds";t.src=`https://${e}.readyplayer.me/avatar?frameApi`},ve=t=>{document.querySelector("#name").setAttribute("value",t);const n=document.querySelector("a-scene");window.easyrtc.setUsername(t),n.emit("connect")},B=(t,e,n)=>{if(e)return u.avatarLoadedPercentage=100;function o(){t.removeEventListener("model-loaded",o),u.avatarLoadedPercentage=100,n&&n()}return t.addEventListener("model-loaded",o)},Z=async t=>{const n=new URLSearchParams(window.location.search).has("require-name"),c=("autoConnect"in appConfig?appConfig.autoConnect:!0)&&!n;u.avatarLoadedPercentage=0,window.easyrtc.setUsername("Player");const d=await Re(t),h=document.querySelector("a-scene");let p=document.querySelector("#cameraRig");if(p){const E=document.querySelector("#avatar");E.setAttribute("gltf-model",`${t}?t=${Date.now()}`),B(E,!1)}else{p=we(d);const E=Se(),C=Le(t),s=Me("Player");p.appendChild(E),p.appendChild(C),p.appendChild(s),B(C,!1,function(){E.setAttribute("camera","active",!0),ce.playerSpawned()}),h.appendChild(p),h.setAttribute("naf-dynamic-room",""),c&&h.emit("connect"),me()}},Re=async t=>{try{const e=t.replace(".glb",".json");return(await(await fetch(e)).json()).outfitGender==="masculine"?"m":"f"}catch{return alert("Failed to get gender"),"f"}},we=t=>{const{scale:e}=appConfig,n=document.createElement("a-entity");return n.id="cameraRig",n.setAttribute("core-entity",""),n.setAttribute("simple-navmesh-constraint","navmesh:.navmesh;fall:1;height:0;exclude:.navmesh-hole"),n.setAttribute("position",`${defaultSpawnPosition.x} ${defaultSpawnPosition.y} ${defaultSpawnPosition.z}`),k&&k.setAttribute("position",`${defaultSpawnPosition.x} ${defaultSpawnPosition.y} ${defaultSpawnPosition.z}`),n.setAttribute("rotation","0 0 0"),e?(n.setAttribute("scale",`${.9*e} ${.9*e} ${.9*e}`),n.setAttribute("my-movement-controls",`gender:${t};camera:#camera;speed:${.125*e}`)):n.setAttribute("my-movement-controls",`gender:${t};camera:#camera;`),n.setAttribute("origin-on-ar-start",""),n.setAttribute("networked","template:#player-template;attachTemplateToLocal:false;"),n},Se=()=>{const{cameraPosition:t}=appConfig,e=document.createElement("a-entity");e.id="camera",e.setAttribute("core-entity",""),e.setAttribute("raycaster","objects: [data-raycastable]"),e.setAttribute("camera","");const n=`${t.x} ${t.y} ${t.z}`;return e.setAttribute("position",n),e.setAttribute("my-look-controls",""),e.setAttribute("cursor","rayOrigin: mouse;"),e},Le=t=>{const e=document.createElement("a-entity");return e.id="avatar",e.setAttribute("core-entity",""),e.setAttribute("position","0 0 0"),e.setAttribute("rotation","0 180 0"),e.setAttribute("gltf-model",t),e.setAttribute("networked","template:#avatar-template;attachTemplateToLocal:false;"),e},Me=t=>{const e=document.createElement("a-text");return e.id="name",e.setAttribute("core-entity",""),e.setAttribute("position","0 1.9 0"),e.setAttribute("value",t),e.setAttribute("align","center"),e.setAttribute("width","1.8"),e.setAttribute("networked","template:#name-template;attachTemplateToLocal:false;"),e},ee="metaworlds_message",Pe=t=>{t.easyrtcid=easyrtc.myEasyrtcid,NAF.connection.broadcastDataGuaranteed(ee,t)},te=()=>{const t=(e,n,o)=>{le(o)};NAF.connection.subscribeToDataChannel(ee,t)},Ce=()=>{const t=(e,n,o)=>{console.log("onRoomChanged",o)};NAF.connection.subscribeToDataChannel("roomChanged",t)},De=(t,e,n)=>{const o=document.createElement("a-entity");return o.id="emoij",o.object3D.position.set(e.x,e.y+1.8,e.z),o.setAttribute("gltf-model",`url(/assets/common/models/emojis/${t}.glb)`),o.setAttribute("scale",n),o.setAttribute("networked","template:#emoji-template;attachTemplateToLocal:false;"),o.setAttribute("animation",`property: position; to: ${e.x} ${e.y+7} ${e.z}; dur: 4000; easing: easeInOutCubic; loop: false;`),o.addEventListener("animationcomplete",()=>{o.parentNode&&o.parentNode.removeChild(o)}),o},_e=t=>{const e=document.querySelector("a-scene"),o=document.querySelector("#cameraRig").getAttribute("position");for(let c=0;c<5;c++){const d={x:o.x+Math.random()*.8-.4,y:o.y+Math.random()*.4-.2,z:o.z+Math.random()*.8-.4},h=Math.random()*.1+.05,p=De(t,d,`${h} ${h} ${h}`);e.appendChild(p)}};let M={volumes:{masterVolume:1,musicVolume:1,voiceChatVolume:1},mediaDevices:{activeCamera:"",activeMicrophone:"",activeSpeaker:"",isCameraEnabled:!1,isMicrophoneEnabled:!1,isSpeakerEnabled:!1}};function Te(t){const e=Ie(t);if((e==null?void 0:e.type)==="METAWORLDS_CONFIG")return Ne(e.value);if((e==null?void 0:e.type)==="METAWORLDS_SEND_MESSAGE")return Pe(JSON.parse(e.value));if((e==null?void 0:e.type)==="METAWORLDS_SPAWN_EMOJI")return _e(e.value);if((e==null?void 0:e.type)==="METAWORLDS_SCREENSHOT")return ze();if((e==null?void 0:e.type)==="METAWORLDS_SHARESCREEN")return window.shareScreen&&window.shareScreen();if((e==null?void 0:e.type)==="METAWORLDS_CHANGE_AVATAR")return Ae();if((e==null?void 0:e.type)==="METAWORLDS_AVATAR_CHANGED")return Z(e.value);if((e==null?void 0:e.type)==="METAWORLDS_NAME_CHANGED")return ve(e.value)}const Ne=t=>{const{volumes:e,mediaDevices:n}=JSON.parse(t),o=M.volumes.musicVolume*M.volumes.masterVolume,c=e.musicVolume*e.masterVolume;o!==c&&(u.volumes.musicVolume=c),n.activeMicrophone!==M.mediaDevices.activeMicrophone&&Ve(n.activeMicrophone),n.isMicrophoneEnabled!==M.mediaDevices.isMicrophoneEnabled&&(Oe(n.isMicrophoneEnabled),console.log(`${n.isMicrophoneEnabled?"Enable":"Disable"} microphone...`)),M={...M,volumes:e,mediaDevices:n}};function ne(t){console.log("navigator.MediaDevices.getUserMedia error: ",t)}const je=()=>{navigator.mediaDevices.enumerateDevices().then(de)},Oe=t=>{if(window.stream&&window.stream.getTracks().forEach(e=>{e.stop()}),!t){NAF.connection.adapter.easyrtc.enableMicrophone(!1);return}navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>{window.stream=e,NAF.connection.adapter.easyrtc.enableMicrophone(!0)}).catch(e=>{ne(e),Q()})},Ve=async t=>{window.stream&&window.stream.getTracks().forEach(n=>{n.stop()});const e={audio:{deviceId:t?{exact:t}:void 0}};navigator.mediaDevices.getUserMedia(e).then(n=>{window.stream=n}).catch(n=>{ne(n),Q()})};function Ie(t){try{return typeof t.data=="string"?JSON.parse(t.data):t.data}catch{return null}}const Fe=()=>{document.body.addEventListener("clientConnected",function(t){O(NAF.connection.getConnectedClients())}),document.body.addEventListener("clientDisconnected",function(t){O(NAF.connection.getConnectedClients())}),setInterval(()=>{O(NAF.connection.getConnectedClients())},3e3)};function $e(t){console.log("onConnected",t),te()}function He(){}const Ue=()=>{document.body.addEventListener("connected",$e),document.body.addEventListener("disconnected",He)},ze=()=>{const t=document.querySelector("a-scene").components.screenshot.getCanvas("perspective").toDataURL();ue(t)};function qe(){window.addEventListener("message",Te),je(),Ce(),te(),Ue(),Fe()}const J="https://cms.metaworldz.dev";function ke(t){const n=`; ${document.cookie}`.split(`; ${t}=`);if(n.length===2)return n.pop().split(";").shift()}var P,H;class xe{constructor(){q(this,P);T(this,"_profile",{});T(this,"isGuest",!1);T(this,"profile",{})}getToken(){return decodeURI(ke("auth._token.social"))}getProfile(){return j(this,P,H).call(this,"GET","/api/customer/profile").then(e=>e.data).then(e=>(typeof e.first_name=="string"&&e.first_name.length>2&&(this.profile.fullName=e.first_name),typeof e.avatar_2d=="string"&&e.avatar_2d.startsWith("http")&&(this.profile.avatar2D=e.avatar_2d),typeof e.avatar_3d=="string"&&e.avatar_3d.startsWith("http")&&(this.profile.avatar3D=e.avatar_3d),e))}updateProfile({fullName:e,avatar2D:n,avatar3D:o}){return j(this,P,H).call(this,"PATCH","/api/customer/update",{fullName:e,avatar2D:n,avatar3D:o})}}P=new WeakSet,H=function(e,n,o){const c=this.getToken();return c?fetch(`${J}${n}`,{method:e,headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify(o)}).then(d=>d.json()).then(d=>(console.log("[API]",`${J}${n}`),o&&console.log("[API]",o),console.log("[API]",d),d)):Promise.reject(new Error("Token not found"))};const Ge=new xe;window.addEventListener("DOMContentLoaded",async function(){qe();const t=["assets/common/models/avatar/default/633d9a093fc70071e8a9f874.glb","assets/common/models/avatar/default/a78c4cfa-e9c5-4729-b9c0-906da1d74f31.glb","assets/common/models/avatar/default/633d9bfc3fc70071e8a9fae3.glb","assets/common/models/avatar/default/633d9bfc3fc70071e8a9fae6.glb","assets/common/models/avatar/default/633d9c6b70674b37a2bfd82a.glb","assets/common/models/avatar/default/633d9c6c70674b37a2bfd82e.glb","assets/common/models/avatar/default/633d9cd870674b37a2bfd894.glb","assets/common/models/avatar/default/633d9d2470674b37a2bfd8f2.glb","assets/common/models/avatar/default/6365503a9ed1466393461816.glb"],e=t[Math.floor(Math.random()*t.length)];Ge.isGuest=!0,Z(e),u.modalLoadedPercentage=0;const n=document.querySelectorAll("a-gltf-model");for(let o=0;o<n.length;o++){const c=n[o];c.hasLoaded?u.modalLoadedPercentage+=Math.floor(100/n.length):c.addEventListener("model-loaded",()=>{u.modalLoadedPercentage+=Math.floor(100/n.length)})}});export{u as a,Je as e,ce as m,Ee as s};
